(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],d=0,l=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&l.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var s=n[o];0!==r[s]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},o={app:0},r={app:0},i=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-02365875":"4340a153","chunk-108d305a":"257b5bf3","chunk-2babd50b":"07b3998c","chunk-5e0477d6":"1ba8c7e5","chunk-1a44a14e":"98eff1e6","chunk-51f7e3c6":"8ff149ca","chunk-569b4261":"5de2f9b2","chunk-f2519188":"5d832cc3","chunk-77b7e752":"445f491b","chunk-af2bb668":"7b02721d","chunk-bb7f2b0c":"778394fa","chunk-c4588cf8":"df3ec73d"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-02365875":1,"chunk-108d305a":1,"chunk-2babd50b":1,"chunk-5e0477d6":1,"chunk-51f7e3c6":1,"chunk-569b4261":1,"chunk-f2519188":1,"chunk-77b7e752":1,"chunk-af2bb668":1,"chunk-bb7f2b0c":1,"chunk-c4588cf8":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-02365875":"4a95a223","chunk-108d305a":"b3b7290e","chunk-2babd50b":"f5b54afa","chunk-5e0477d6":"cafd0bcc","chunk-1a44a14e":"31d6cfe0","chunk-51f7e3c6":"ad21641e","chunk-569b4261":"f37b7af8","chunk-f2519188":"8191fbd3","chunk-77b7e752":"e55476fb","chunk-af2bb668":"da6616f3","chunk-bb7f2b0c":"e2ff964e","chunk-c4588cf8":"e1aa636f"}[t]+".css",r=c.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===r))return e()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===a||d===r)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[t],h.parentNode.removeChild(h),n(i)},h.href=r;var _=document.getElementsByTagName("head")[0];_.appendChild(h)})).then((function(){o[t]=0})));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(t);var l=new Error;u=function(e){d.onerror=d.onload=null,clearTimeout(h);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}r[t]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var h=d;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("498a"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=n("8c4f"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.layout,{tag:"component"})},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"position-relative overflow-hidden"},[n("header",[n("div",{staticClass:"container-fluid d-flex align-items-center px-5"},[n("span",{staticClass:"item_menu close_sidebar",class:{hide:t.isOpenSidebar},on:{click:t.handleToggleSidebar}},[n("span")]),n("div",{staticClass:"cabinet d-flex align-items-center",on:{mouseenter:function(e){t.isOpenCabinetMenu=!0},mouseleave:function(e){t.isOpenCabinetMenu=!1}}},[n("div",{staticClass:"avatar",style:{backgroundImage:"url('"+t.user.avatar_url+"')"}}),n("span",{staticClass:"user_name"},[t._v(t._s(t.user.name))]),t.isOpenCabinetMenu?n("div",{staticClass:"cabinet_container_menu"},[n("ul",{staticClass:"cabinet_menu"},[n("li",{on:{click:t.logout}},[t._v("Выход")])])]):t._e()])])]),n("main",{staticClass:"d-flex"},[n("sidebar",{ref:"sidebar"}),n("router-view",{ref:"main"})],1),n("footer"),n("toast"),n("confirm-form")],1)},c=[],u=n("f531"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"nav_sidebar",class:{hide:!t.sideBarVisibility},on:{click:t.checkCurrentPage}},[n("div",{staticClass:"nav_sidebar_menu"},[n("ul",t._l(t.getMenuItems(),(function(e,a){return n("item-menu",{key:a,attrs:{title:a,body:e,menu:t.menu}})})),1)])])},l=[],h=n("bb45"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{class:{category:"category"===this.body.type},attrs:{tag:"li",to:t.getUrl()}},["category"===t.body.type?[n("span",{staticClass:"item_menu",on:{click:function(e){t.isOpen=!t.isOpen}}},[t._v(t._s(t.title)+" "),n("div",{staticClass:"arrow-4",class:{open:t.isOpen}},[n("span",{staticClass:"arrow-4-left"}),n("span",{staticClass:"arrow-4-right"})])]),t.isOpen?n("ul",t._l(t.getChildren(t.body.children),(function(e,a){return n("item-menu",{key:a,attrs:{title:a,body:e,menu:t.menu}})})),1):t._e()]:"page"===t.body.type?[n("a",{staticClass:"item_menu",attrs:{href:t.body.url}},[t._v(t._s(t.title))])]:"child"===t.body.type?[n("a",{staticClass:"item_menu",attrs:{href:t.body.url}},[n("span",[t._v(t._s(t.title))])])]:t._e()],2)},p=[],f=(n("d81d"),{name:"ItemMenu",data:function(){return{isOpen:!0}},props:["title","body","menu"],methods:{getUrl:function(){return"category"===this.body.type?this.$route:this.body.url},getChildren:function(t){var e=this,n={};return t.map((function(t){return n[t]=e.menu[t]})),n}},components:{ItemMenu:b}}),E=f,O=n("2877"),T=Object(O["a"])(E,_,p,!1,null,"589cf5ae",null),b=T.exports,m={name:"Sidebar",data:function(){return{activeMenuItem:null,menu:null,sideBarVisibility:"open"===localStorage.isOpenSidebar}},mounted:function(){},created:function(){this.menu={"Доступы":{type:"category",open:"true",children:["Хостинги","Сайты","Другое"],url:"#"},"Хостинги":{type:"child",url:Object(h["a"])("dashboard.host")},"Сайты":{type:"child",url:Object(h["a"])("dashboard.site")},"Другое":{type:"child",url:Object(h["a"])("dashboard.other")},"Управление персоналом":{type:"page",url:Object(h["a"])("dashboard.personal")}}},computed:{},methods:{getMenuItems:function(){var t={};for(var e in this.menu)"child"!==this.menu[e].type&&(t[e]=this.menu[e]);return t},setActiveMenuItem:function(t){this.activeMenuItem=t},isChilds:function(t){return null!=t.childs},isActiveMenuItem:function(t){return this.activeMenuItem===t},checkCurrentPage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e!==[])for(var n in e)if(window.location.href===e[n].url)return!0;return window.location.href===t},toggleMenuItem:function(t){this.menu[t].open=!this.menu[t].open},toggleSidebar:function(){this.sideBarVisibility=!this.sideBarVisibility,this.$emit("close",this.sideBarVisibility?280:80)}},components:{ItemMenu:b}},S=m,I=Object(O["a"])(S,d,l,!1,null,"0b27d600",null),w=I.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.GET_IS_VISIBILITY_CONFIRM_FORM,expression:"GET_IS_VISIBILITY_CONFIRM_FORM"}],staticClass:"modal_container"},[n("transition",{attrs:{name:"modal_form"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.GET_IS_VISIBILITY_CONFIRM_FORM,expression:"GET_IS_VISIBILITY_CONFIRM_FORM"}],staticClass:"modal_form form_confirmation"},[n("div",{staticClass:"modal_content"},[n("form",{staticClass:"row ",attrs:{action:""}},[n("h3",[t._v("Вы уверены?")]),n("div",[n("button",{staticClass:"button-1 mt-auto bg_green",on:{click:function(e){return e.preventDefault(),t.UPDATE_CONFIRM_STATUS(!0)}}},[t._v("Да")]),n("button",{staticClass:"button-1 mt-auto bg_red",on:{click:function(e){return e.preventDefault(),t.UPDATE_CONFIRM_STATUS(!1)}}},[t._v("Нет")])])])])])]),n("transition",{attrs:{name:"overlay"}},[t.GET_IS_VISIBILITY_CONFIRM_FORM?n("div",{staticClass:"overlay_bg",on:{click:t.TOGGLE_CONFIRM_FORM}}):t._e()])],1)])},A=[],L=n("5530"),P=n("2f62"),v={name:"ConfirmForm",computed:Object(L["a"])({},Object(P["c"])(["GET_IS_VISIBILITY_CONFIRM_FORM"])),methods:Object(L["a"])({},Object(P["b"])(["TOGGLE_CONFIRM_FORM","UPDATE_CONFIRM_STATUS"]))},M=v,g=Object(O["a"])(M,R,A,!1,null,"46ad0eb0",null),D=g.exports,F={name:"Dashboard",data:function(){return{isOpenCabinetMenu:!1,isOpenSidebar:"open"===localStorage.isOpenSidebar,authenticated:window.auth.check(),user:window.auth.user}},methods:{handleToggleSidebar:function(){localStorage.isOpenSidebar="open"===localStorage.isOpenSidebar?"close":"open",this.isOpenSidebar="open"===localStorage.isOpenSidebar,this.$refs.sidebar.toggleSidebar()},logout:function(){window.auth.logout()}},mounted:function(){var t=this;Event.$on("userLoggedIn",(function(){t.authenticated=!0,t.user=window.auth.user}))},components:{Sidebar:w,Toast:u["a"],ConfirmForm:D}},N=F,y=(n("60bc"),Object(O["a"])(N,s,c,!1,null,"00f8f167",null)),k=y.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"position-relative overflow-hidden d-flex justify-content-center",staticStyle:{height:"100vh"}},[n("router-view"),n("toast")],1)},C=[],j={name:"Empty",data:function(){return{authenticated:window.auth.check(),user:window.auth.user}},mounted:function(){var t=this;Event.$on("userLoggedIn",(function(){t.authenticated=!0,t.user=window.auth.user}))},components:{Toast:u["a"]}},G=j,H=Object(O["a"])(G,U,C,!1,null,"d34ee44e",null),V=H.exports,B={computed:{layout:function(){return(this.$route.meta.layout||"empty")+"-layout"}},components:{DashboardLayout:k,EmptyLayout:V}},x=B,Y=(n("5c0b"),Object(O["a"])(x,r,i,!1,null,null,null)),$=Y.exports,W=n("1dce"),J=n.n(W),q=n("9483");Object(q["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("45fc"),n("d3b7");a["a"].use(o["a"]);var z=[{path:"/login",name:"login",meta:{layout:"empty"},component:function(){return n.e("chunk-bb7f2b0c").then(n.bind(null,"5326"))}},{path:"/",name:"home",meta:{layout:"dashboard",middlewareAuth:!0},redirect:{name:"dashboard.host"}},{path:Object(h["a"])("dashboard"),name:"dashboard",meta:{layout:"dashboard",middlewareAuth:!0},redirect:{name:"dashboard.host"}},{path:"/dashboard/host/",name:"dashboard.host",meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return Promise.all([n.e("chunk-5e0477d6"),n.e("chunk-1a44a14e")]).then(n.bind(null,"84e4"))}},{path:Object(h["a"])("dashboard.host.show")+":id",name:"dashboard.host.show",props:!0,meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return n.e("chunk-77b7e752").then(n.bind(null,"564b"))}},{path:Object(h["a"])("dashboard.host.edit")+":id",name:"dashboard.host.edit",meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return n.e("chunk-c4588cf8").then(n.bind(null,"1884"))}},{path:Object(h["a"])("dashboard.site"),name:"dashboard.site.index",meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return Promise.all([n.e("chunk-5e0477d6"),n.e("chunk-569b4261")]).then(n.bind(null,"a881"))}},{path:Object(h["a"])("dashboard.site.show")+":id",name:"dashboard.site.show",meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return n.e("chunk-af2bb668").then(n.bind(null,"3035"))}},{path:Object(h["a"])("dashboard.site.edit")+":id",name:"dashboard.site.edit",meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return n.e("chunk-108d305a").then(n.bind(null,"f215"))}},{path:Object(h["a"])("dashboard.other"),name:"dashboard.other",meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return Promise.all([n.e("chunk-5e0477d6"),n.e("chunk-f2519188")]).then(n.bind(null,"9d79"))}},{path:Object(h["a"])("dashboard.other.show")+":id",name:"dashboard.other.show",props:!0,meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return n.e("chunk-02365875").then(n.bind(null,"41d8"))}},{path:Object(h["a"])("dashboard.other.edit")+":id",name:"dashboard.other.edit",meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return n.e("chunk-2babd50b").then(n.bind(null,"9855"))}},{path:Object(h["a"])("dashboard.report"),name:"dashboard.report",meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return Promise.all([n.e("chunk-5e0477d6"),n.e("chunk-1a44a14e")]).then(n.bind(null,"84e4"))}},{path:Object(h["a"])("dashboard.personal"),name:"personal",meta:{layout:"dashboard",middlewareAuth:!0},component:function(){return Promise.all([n.e("chunk-5e0477d6"),n.e("chunk-51f7e3c6")]).then(n.bind(null,"e74d"))}}],K=new o["a"]({mode:"history",base:"/",routes:z});K.beforeEach((function(t,e,n){!t.matched.some((function(t){return t.meta.middlewareAuth}))||window.auth.check()?n():n({path:"/login",query:{redirect:t.fullPath}})}));var Q=K,X={state:{ALL_HOSTS:[],SHORT_HOSTS:[]},actions:{GET_SHORT_HOSTS_FROM_API:function(t){return window.api.call("get",Object(h["a"])("host.index"),{params:{short:!0}}).then((function(e){t.commit("UPDATE_SHORT_HOSTS",e.data.data.content)})).catch((function(t){window.newToast("Сервер не отвечает","error",5)}))},GET_ALL_HOSTS_FROM_API:function(t){var e=t.commit;return window.api.call("get",Object(h["a"])("host.index")).then((function(t){e("UPDATE_ALL_HOSTS",t.data.data.content)})).catch((function(t){window.newToast("Сервер не отвечает","error",5)}))},ADD_HOST:function(t,e){var n=t.dispatch;return window.api.call("post",Object(h["a"])("host.store"),e).then((function(t){n("GET_ALL_HOSTS_FROM_API"),window.newToast("Успешно добавлено","success",3)})).catch((function(t){window.newToast("Возникла ошибка","error",3)}))},DESTROY_HOST_BY_ID:function(t,e){var n=t.dispatch;return window.api.call("delete",Object(h["a"])("host.destroy",[e])).then((function(t){n("GET_ALL_HOSTS_FROM_API"),window.newToast("Успешно удалено","success",3)})).catch((function(t){window.newToast("Возникла ошибка","error",3)}))}},mutations:{UPDATE_ALL_HOSTS:function(t,e){t.ALL_HOSTS=e},UPDATE_SHORT_HOSTS:function(t,e){t.SHORT_HOSTS=e}},getters:{GET_ALL_HOSTS:function(t){return t.ALL_HOSTS},GET_SHORT_HOSTS:function(t){return t.SHORT_HOSTS}}},Z={state:{ALL_SITES:[]},actions:{GET_ALL_SITES_FROM_API:function(t){return window.api.call("get",Object(h["a"])("site.index")).then((function(e){t.commit("UPDATE_ALL_SITES",e.data.data.availables)})).catch((function(t){window.newToast("Сервер не отвечает","error",5)}))},DESTROY_SITE_BY_ID:function(t,e){var n=t.dispatch;return window.api.call("delete",Object(h["a"])("site.destroy",[e])).then((function(t){n("GET_ALL_SITES_FROM_API"),window.newToast("Успешно удалено","success",3)})).catch((function(t){window.newToast("Возникла ошибка","error",3)}))},ADD_SITE:function(t,e){var n=t.dispatch;return window.api.call("post",Object(h["a"])("site.store"),e).then((function(t){n("GET_ALL_SITES_FROM_API"),window.newToast("Успешно добавлено","success",3)})).catch((function(t){window.newToast("Возникла ошибка","error",3)}))}},mutations:{UPDATE_ALL_SITES:function(t,e){t.ALL_SITES=e}},getters:{GET_ALL_SITES:function(t){return t.ALL_SITES}}},tt={state:{ALL_OTHERS:[],SHORT_OTHERS:[]},actions:{GET_SHORT_OTHERS_FROM_API:function(t){return window.api.call("get",Object(h["a"])("other.index"),{params:{short:!0}}).then((function(e){t.commit("UPDATE_SHORT_OTHERS",e.data.data.content)})).catch((function(t){window.newToast("Сервер не отвечает","error",5)}))},GET_ALL_OTHERS_FROM_API:function(t){var e=t.commit;return window.api.call("get",Object(h["a"])("other.index")).then((function(t){e("UPDATE_ALL_OTHERS",t.data.data.content)})).catch((function(t){window.newToast("Сервер не отвечает","error",5)}))},ADD_OTHER:function(t,e){var n=t.dispatch;return window.api.call("post",Object(h["a"])("other.store"),e).then((function(t){n("GET_ALL_OTHERS_FROM_API"),window.newToast("Успешно добавлено","success",3)})).catch((function(t){window.newToast("Возникла ошибка","error",3)}))},DESTROY_OTHER_BY_ID:function(t,e){var n=t.dispatch;return window.api.call("delete",Object(h["a"])("other.destroy",[e])).then((function(t){n("GET_ALL_OTHERS_FROM_API"),window.newToast("Успешно удалено","success",3)})).catch((function(t){window.newToast("Возникла ошибка","error",3)}))}},mutations:{UPDATE_ALL_OTHERS:function(t,e){t.ALL_OTHERS=e},UPDATE_SHORT_OTHERS:function(t,e){t.SHORT_OTHERS=e}},getters:{GET_ALL_OTHERS:function(t){return t.ALL_OTHERS},GET_SHORT_OTHERS:function(t){return t.SHORT_OTHERS}}},et={state:{ALL_PERSONAL:[]},actions:{GET_ALL_PERSONAL_FROM_API:function(t){var e=t.commit;return window.api.call("get",Object(h["a"])("personal.index")).then((function(t){e("UPDATE_ALL_PERSONAL",t.data.data.content)})).catch((function(t){window.newToast("Сервер не отвечает","error",5)}))},ADD_PERSONAL:function(t,e){var n=t.dispatch;return window.api.call("post",Object(h["a"])("personal.store"),e).then((function(t){n("GET_ALL_PERSONAL_FROM_API"),window.newToast("Успешно добавлено","success",3)})).catch((function(t){window.newToast("Возникла ошибка","error",3)}))},DESTROY_PERSONAL_BY_ID:function(t,e){var n=t.dispatch;return window.api.call("delete",Object(h["a"])("personal.destroy",[e])).then((function(t){n("GET_ALL_PERSONAL_FROM_API"),window.newToast("Успешно удалено","success",3)})).catch((function(t){window.newToast("Возникла ошибка","error",3)}))}},mutations:{UPDATE_ALL_PERSONAL:function(t,e){t.ALL_PERSONAL=e}},getters:{GET_ALL_PERSONAL:function(t){return t.ALL_PERSONAL}}},nt=(n("4160"),n("b0c0"),n("159b"),{state:{IS_VISIBILITY_PERSONAL_EDIT_FORM:!1,ID_PERSONAL_EDIT_FORM:null,SUBMIT_STATUS_PERSONAL_EDIT_FORM:null,USERNAME_PERSONAL_EDIT_FORM:"",EMAIL_PERSONAL_EDIT_FORM:"",LIST_PRIVILEGES_PERSONAL_EDIT_FORM:[{name:"administrator",label:"Администатор"},{name:"worker",label:"Рабочий"}],PRIVILEGE_PERSONAL_EDIT_FORM:{name:"worker",label:"Рабочий"}},actions:{SUBMIT_PERSONAL_EDIT_FORM:function(t){var e=t.state,n=t.commit,a=t.dispatch;n("UPDATE_SUBMIT_STATUS_PERSONAL_EDIT_FORM","PENDING");var o=new FormData;return o.append("name",e.USERNAME_PERSONAL_EDIT_FORM),o.append("email",e.EMAIL_PERSONAL_EDIT_FORM),o.append("privilege",e.PRIVILEGE_PERSONAL_EDIT_FORM.name),o.append("_method","PATCH"),window.api.call("post",Object(h["a"])("personal.update",[e.ID_PERSONAL_EDIT_FORM]),o).then((function(t){window.newToast("Успешно обновлено","success",3),n("UPDATE_SUBMIT_STATUS_PERSONAL_EDIT_FORM","OK"),a("CLOSE_PERSONAL_EDIT_FORM"),a("GET_ALL_PERSONAL_FROM_API")})).catch((function(t){n("UPDATE_SUBMIT_STATUS_PERSONAL_EDIT_FORM","ERROR"),window.newToast("Возникла ошибка","error",3)}))},START_PERSONAL_EDIT_FORM:function(t,e){t.state;var n=t.commit;n("UPDATE_IS_VISIBILITY_PERSONAL_EDIT_FORM",!0),n("UPDATE_ID_PERSONAL_EDIT_FORM",e),window.api.call("get",Object(h["a"])("personal.edit",[e])).then((function(t){var e=t.data.data.content;n("UPDATE_USERNAME_PERSONAL_EDIT_FORM",e.name),n("UPDATE_EMAIL_PERSONAL_EDIT_FORM",e.email),n("UPDATE_PRIVILEGE_PERSONAL_EDIT_FORM",e.privilege)})).catch((function(t){console.log(t)}))},CLOSE_PERSONAL_EDIT_FORM:function(t){var e=t.commit,n=t.dispatch;e("UPDATE_IS_VISIBILITY_PERSONAL_EDIT_FORM",!1),n("CLEAR_PERSONAL_EDIT_FORM")},CLEAR_PERSONAL_EDIT_FORM:function(t){var e=t.commit,n=t.state;e("UPDATE_SUBMIT_STATUS_PERSONAL_EDIT_FORM",null),e("UPDATE_USERNAME_PERSONAL_EDIT_FORM",""),e("UPDATE_EMAIL_PERSONAL_EDIT_FORM",""),e("UPDATE_PRIVILEGE_PERSONAL_EDIT_FORM",n.LIST_PRIVILEGES_PERSONAL_EDIT_FORM[1].name)}},mutations:{UPDATE_IS_VISIBILITY_PERSONAL_EDIT_FORM:function(t,e){t.IS_VISIBILITY_PERSONAL_EDIT_FORM=e},UPDATE_ID_PERSONAL_EDIT_FORM:function(t,e){t.ID_PERSONAL_EDIT_FORM=e},UPDATE_USERNAME_PERSONAL_EDIT_FORM:function(t,e){t.USERNAME_PERSONAL_EDIT_FORM=e},UPDATE_EMAIL_PERSONAL_EDIT_FORM:function(t,e){t.EMAIL_PERSONAL_EDIT_FORM=e},UPDATE_PRIVILEGE_PERSONAL_EDIT_FORM:function(t,e){"string"!==typeof e&&(e=e.name),t.LIST_PRIVILEGES_PERSONAL_EDIT_FORM.forEach((function(n){n.name===e&&(t.PRIVILEGE_PERSONAL_EDIT_FORM=n)}))},UPDATE_SUBMIT_STATUS_PERSONAL_EDIT_FORM:function(t,e){t.SUBMIT_STATUS_PERSONAL_EDIT_FORM=e}},getters:{GET_IS_VISIBILITY_PERSONAL_EDIT_FORM:function(t){return t.IS_VISIBILITY_PERSONAL_EDIT_FORM},GET_SUBMIT_STATUS_PERSONAL_EDIT_FORM:function(t){return t.SUBMIT_STATUS_PERSONAL_EDIT_FORM},GET_USERNAME_PERSONAL_EDIT_FORM:function(t){return t.USERNAME_PERSONAL_EDIT_FORM},GET_EMAIL_PERSONAL_EDIT_FORM:function(t){return t.EMAIL_PERSONAL_EDIT_FORM},GET_PRIVILEGE_PERSONAL_EDIT_FORM:function(t){return t.PRIVILEGE_PERSONAL_EDIT_FORM},GET_LIST_PRIVILEGES_PERSONAL_EDIT_FORM:function(t){return t.LIST_PRIVILEGES_PERSONAL_EDIT_FORM}}}),at={state:{username:null,email:null,password:null,users:null,avatar_url:null},actions:{LOGIN:function(t){var e=t.state;if(""===e.email||null===e.email||""===e.password||null===e.password)return window.newToast("Заполните все поля","warning");var n=new FormData;return n.append("username",e.email),n.append("password",e.password),new Promise((function(t){window.api.call("post",Object(h["a"])("api.login"),n).then((function(e){var n=e.data;window.auth.login(n.data.token,n.data.user),t(t)})).catch((function(t){window.newToast("Неверный логин или пароль","error")}))}))},GET_ALL_USERS_FROM_API:function(t){var e=t.commit;return window.api.call("get",Object(h["a"])("api.user.index")).then((function(t){e("UPDATE_ALL_USERS",t.data.data.content)})).catch((function(t){window.newToast("Сервер не отвечает","error",5)}))},UPDATE_VIEW_USER_BY_ID:function(t,e){var n=t.commit,a=t.state;n("UPDATE_VIEW_USER",a.users[e])},SET_EMAIL:function(t,e){var n=t.commit;n("UPDATE_EMAIL",e)},SET_PASSWORD:function(t,e){var n=t.commit;n("UPDATE_PASSWORD",e)}},mutations:{UPDATE_PASSWORD:function(t,e){t.password=e},UPDATE_EMAIL:function(t,e){t.email=e},UPDATE_VIEW_USER:function(t,e){t.current_view_user=e},UPDATE_ALL_USERS:function(t,e){t.users=e}},getters:{GET_USERNAME:function(t){return null==t.users||null===t.email||""===t.email?null:(t.username=void 0,t.users.map((function(e){e.email===t.email&&(t.username=e.name)})),t.username)},GET_AVATAR_URL:function(t){return null==t.users?null:(t.avatar_url=null,t.users.map((function(e){e.email===t.email&&(t.avatar_url=e.avatar_url)})),t.avatar_url)},GET_PASSWORD:function(t){return t.password},GET_EMAIL:function(t){return t.email},GET_ALL_USERS:function(t){return t.users}}},ot={state:{IS_VISIBILITY_CONFIRM_FORM:!1,CONFIRM_PAYLOAD:null},actions:{START_CONFIRM_FORM:function(t,e){var n=t.commit;n("UPDATE_CONFIRM_PAYLOAD",e),n("UPDATE_IS_VISIBILITY_CONFIRM_FORM",!0)},TOGGLE_CONFIRM_FORM:function(t){var e=t.commit,n=t.state;e("UPDATE_IS_VISIBILITY_CONFIRM_FORM",!n.IS_VISIBILITY_CONFIRM_FORM)},UPDATE_CONFIRM_STATUS:function(t,e){var n=t.commit,a=t.dispatch,o=t.state;e&&o.CONFIRM_PAYLOAD(),a("TOGGLE_CONFIRM_FORM"),n("UPDATE_CONFIRM_PAYLOAD",null)}},mutations:{UPDATE_CONFIRM_PAYLOAD:function(t,e){t.CONFIRM_PAYLOAD=e},UPDATE_IS_VISIBILITY_CONFIRM_FORM:function(t,e){t.IS_VISIBILITY_CONFIRM_FORM=e}},getters:{GET_IS_VISIBILITY_CONFIRM_FORM:function(t){return t.IS_VISIBILITY_CONFIRM_FORM}}};a["a"].use(P["a"]);var rt=new P["a"].Store({modules:{host:X,site:Z,other:tt,confirm_form:ot,personal:et,auth:at,personal_edit_form:nt}}),it=n("bc3a"),st=n.n(it),ct=n("a7fe"),ut=n.n(ct),dt=n("8e5f"),lt=n.n(dt),ht=n("d4ec"),_t=n("bee2"),pt=function(){function t(){Object(ht["a"])(this,t),this.token=window.localStorage.getItem("token");var e=window.localStorage.getItem("user");this.user=e?JSON.parse(e):null,this.token&&(window.axios.defaults.headers.common.Authorization="Bearer "+this.token,this.getUser())}return Object(_t["a"])(t,[{key:"login",value:function(t,e){window.localStorage.setItem("token",t),window.localStorage.setItem("user",JSON.stringify(e)),window.axios.defaults.headers.common.Authorization="Bearer "+t,this.token=t,this.user=e,Event.$emit("userLoggedIn")}},{key:"logout",value:function(){window.localStorage.removeItem("token"),window.localStorage.removeItem("user"),this.token=null,this.user=null,Q.push({name:"login"})}},{key:"check",value:function(){return!!this.token}},{key:"getUser",value:function(){var t=this;window.api.call("get",Object(h["a"])("api.get-user")).then((function(e){var n=e.data;t.user=n}))}}]),t}(),ft=pt,Et=function(){function t(){Object(ht["a"])(this,t)}return Object(_t["a"])(t,[{key:"call",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(a,o){window.axios[t](e,n).then((function(t){a(t)})).catch((function(t){var e=t.response;401!==e.status?o(e):window.auth.logout()}))}))}}]),t}(),Ot=Et;window.Event=new a["a"],window.axios=st.a,window.api=new Ot,window.auth=new ft,a["a"].directive("focus-if-not-empty",{inserted:function(t){""!==t.value.trim()&&t.focus()}}),a["a"].component("multiselect",lt.a),a["a"].use(J.a),a["a"].use(o["a"]),a["a"].use(ut.a,st.a),a["a"].config.productionTip=!1,new a["a"]({router:Q,store:rt,render:function(t){return t($)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),o=n.n(a);o.a},6607:function(t){t.exports=JSON.parse('{"get-menu":"http://api.p0305.loc:80/api/get-menu","host.index":"http://api.p0305.loc:80/api/dashboard/host","host.create":"http://api.p0305.loc:80/api/dashboard/host/create","host.store":"http://api.p0305.loc:80/api/dashboard/host","host.show":"http://api.p0305.loc:80/api/dashboard/host/{host}","host.edit":"http://api.p0305.loc:80/api/dashboard/host/{host}/edit","host.update":"http://api.p0305.loc:80/api/dashboard/host/{host}","host.destroy":"http://api.p0305.loc:80/api/dashboard/host/{host}","site.index":"http://api.p0305.loc:80/api/dashboard/site","site.create":"http://api.p0305.loc:80/api/dashboard/site/create","site.store":"http://api.p0305.loc:80/api/dashboard/site","site.show":"http://api.p0305.loc:80/api/dashboard/site/{site}","site.edit":"http://api.p0305.loc:80/api/dashboard/site/{site}/edit","site.update":"http://api.p0305.loc:80/api/dashboard/site/{site}","site.destroy":"http://api.p0305.loc:80/api/dashboard/site/{site}","other.index":"http://api.p0305.loc:80/api/dashboard/other","other.create":"http://api.p0305.loc:80/api/dashboard/other/create","other.store":"http://api.p0305.loc:80/api/dashboard/other","other.show":"http://api.p0305.loc:80/api/dashboard/other/{other}","other.edit":"http://api.p0305.loc:80/api/dashboard/other/{other}/edit","other.update":"http://api.p0305.loc:80/api/dashboard/other/{site}","other.destroy":"http://api.p0305.loc:80/api/dashboard/other/{other}","api.screenshot":"http://api.p0305.loc:80/api/dashboard/srceenshot","api.login":"http://api.p0305.loc:80/api/login","api.get-user":"http://api.p0305.loc:80/api/get-user","api.user.index":"http://api.p0305.loc:80/api/user","home":"/","dashboard":"dashboard","dashboard.host":"dashboard/host","dashboard.host.show":"dashboard/host/show/{id}","dashboard.host.edit":"dashboard/host/edit/{id}","dashboard.site":"dashboard/site","dashboard.site.show":"dashboard/site/show/{id}","dashboard.site.edit":"dashboard/site/edit/{id}","dashboard.other":"dashboard/other","dashboard.other.show":"dashboard/other/show/{id}","dashboard.other.edit":"dashboard/other/edit/{id}","dashboard.report":"dashboard/report","login":"login","dashboard.personal":"dashboard/personal","dashboard.personal.show":"dashboard/personal/show/{id}","dashboard.personal.edit":"dashboard/personal/edit/{id}","personal.index":"http://api.p0305.loc:80/api/dashboard/personal","personal.create":"http://api.p0305.loc:80/api/dashboard/personal/create","personal.store":"http://api.p0305.loc:80/api/dashboard/personal","personal.show":"http://api.p0305.loc:80/api/dashboard/personal/{personal}","personal.edit":"http://api.p0305.loc:80/api/dashboard/personal/{personal}/edit","personal.update":"http://api.p0305.loc:80/api/dashboard/personal/{personal}","personal.destroy":"http://api.p0305.loc:80/api/dashboard/personal/{personal}"}')},"9c0c":function(t,e,n){},bb45:function(t,e,n){"use strict";n("c975"),n("a15b"),n("d81d"),n("fb6a"),n("ac1f"),n("1276");var a=n("6607");e["a"]=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return a[e].indexOf("http")>-1?a[e].split("/").map((function(e){return"{"===e[0]?t.shift():e})).join("/"):void 0!==a[e]?"/"+a[e].split("/").map((function(e){return"{"===e[0]?t.shift():e})).join("/"):void console.error("Error")}},f531:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"toast",staticClass:"toast_message",class:{hide:!t.isVisibility,success:t.success,error:t.error,warning:t.warning},on:{click:t.toggleToast}},[n("span",{staticClass:"toast-label"}),n("span",{ref:"toast_message",staticClass:"text"},[t._v("Данные успешно сохранены")])])},o=[],r={name:"toast.plugin",data:function(){return{isVisibility:!1,stackMessage:[],success:!1,error:!1,warning:!1}},mounted:function(){window.newToast=this.newToast},methods:{newToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;this.openToast(),this.$refs.toast_message.innerHTML=t,this.setStatus(e),setTimeout(this.closeToast,1e3*n)},toggleToast:function(){this.isVisibility=!this.isVisibility},closeToast:function(){this.isVisibility=!1},openToast:function(){this.isVisibility=!0},setStatus:function(t){switch(this.success=!1,this.error=!1,this.warning=!1,t){case"success":this.success=!0;break;case"error":this.error=!0;break;case"warning":this.warning=!0;break}}}},i=r,s=n("2877"),c=Object(s["a"])(i,a,o,!1,null,"439dc83d",null);e["a"]=c.exports}});
//# sourceMappingURL=app.5ed60dae.js.map