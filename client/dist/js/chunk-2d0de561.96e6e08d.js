(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de561"],{"84e4":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=this,i=e.$createElement,s=e._self._c||i;return s("div",{staticClass:"container-fluid container_access w-100"},[s("vue-headful",{attrs:{title:"Перечень: Хостинг"}}),s("div",{staticClass:"panel_line"},[s("h3",[e._v("Хостинги")]),s("div",{staticClass:"right ml-auto"},[s("search",{on:{input:function(e){return t.search=e}}}),s("a",{staticClass:"button-1 ml-30",attrs:{id:"add_new_host",href:"/home"},on:{click:function(t){t.preventDefault(),e.isVisibilityFormAddHost=!e.isVisibilityFormAddHost}}},[e._v("Добавить")])],1)]),s("host-table",{ref:"table",attrs:{search:e.search}}),s("form-add-host-modal",{attrs:{isVisibility:e.isVisibilityFormAddHost},on:{close:function(t){e.isVisibilityFormAddHost=!1},update:e.handleTableUpdate}})],1)},o=[],r=i("5530"),n=i("ec02"),a=i.n(n),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"table_access"},[i("table",[t._m(0),i("tbody",[t._l(t.accessesDataTable,(function(t,e){return i("row",{key:e,attrs:{row:t,id:e}})})),i("tr",[t.GET_IS_LOAD_HOSTS?i("loader"):t._e()],1)],2)]),t.GET_IS_LOAD_HOSTS||0!==t.GET_ALL_HOSTS.length?t._e():i("div",{staticClass:"table_access__empty"},[t._v("Записи в таблице отсутствуют.")])])])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("th",[t._v("Наименование")]),i("th",[t._v("Логин")]),i("th",[t._v("Пароль")]),i("th",[t._v("FTP сервер")]),i("th",[t._v("Логин")]),i("th",[t._v("Пароль")]),i("th",[t._v("Комментарий")]),i("th")])}],_=(i("4de4"),i("c975"),i("ac1f"),i("841c"),i("a2d4")),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[t._l(t.filteredCells(t.row),(function(t,e){return i("cell",{key:e,attrs:{value:t,name:e}})})),i("td",{staticStyle:{position:"relative"},on:{mouseover:t.handleOverActionCell,mouseleave:t.handleLeaveActionCell}},[t.isContextVisibility?i("div",{staticClass:"context_menu",on:{mouseover:function(e){t.isContextVisibility=!0},mouseleave:function(e){t.isContextVisibility=!1}}},[i("a",{attrs:{href:t.routeShow}},[t._v("Подробнее")]),i("a",{attrs:{href:t.routeEdit}},[t._v("Изменить")]),i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.handleDestroy(e)}}},[t._v("Удалить")]),i("span",{staticClass:"left"})]):t._e()])],2)},d=[],p=i("46d5"),v=i("bb45"),f=i("2f62"),m={name:"HostRow",data:function(){return{isContextVisibility:!1}},computed:{routeShow:function(){return Object(v["a"])("dashboard.host.show",[this.row.id])},routeEdit:function(){return Object(v["a"])("dashboard.host.edit",[this.row.id])}},props:["row"],methods:Object(r["a"])(Object(r["a"])({},Object(f["b"])(["DESTROY_HOST_BY_ID","START_CONFIRM_FORM"])),{},{handleDestroy:function(){var t=this;this.START_CONFIRM_FORM((function(){return t.DESTROY_HOST_BY_ID(t.row.id)})),this.isContextVisibility=!1},handleOverActionCell:function(){this.isContextVisibility=!0},handleLeaveActionCell:function(){this.isContextVisibility=!1},filteredCells:function(t){return{name:t.title,host_login:t.host_login,host_password:t.host_password,ftp_server:t.ftp_server,ftp_login:t.ftp_login,ftp_password:t.ftp_password,comment:t.comment}},setCurrentCellHover:function(t,e){this.cellHoverIndex=[t,e]}}),components:{Cell:p["a"]}},h=m,b=i("2877"),g=Object(b["a"])(h,u,d,!1,null,"46acf081",null),C=g.exports,w={name:"HostTable",data:function(){return{activeCell:null,activeCellIndex:null,cellHoverIndex:null,isVisibilityConfirmForm:!1,confirmStatus:null,confirmID:null}},props:["search"],mounted:function(){this.GET_ALL_HOSTS_FROM_API()},methods:Object(r["a"])(Object(r["a"])({},Object(f["b"])(["GET_ALL_HOSTS_FROM_API"])),{},{handleConfirmResponse:function(t){this.isVisibilityConfirmForm=!1,t&&this.destroyHost({component:this,id:this.confirmID}),this.confirmStatus=null,this.confirmID=null},isCurrentCellHover:function(t,e){return!(null===this.cellHoverIndex||this.cellHoverIndex[0]!==t||this.cellHoverIndex[1]!==e)},isCurrentCellActive:function(t,e){return!(null===this.cellActiveIndex||this.cellActiveIndex[0]!==t||this.cellActiveIndex[1]!==e)}}),computed:Object(r["a"])(Object(r["a"])({},Object(f["c"])(["GET_ALL_HOSTS","GET_IS_LOAD_HOSTS"])),{},{accessesDataTable:function(){var t=[],e=this.search.toLowerCase();return this.GET_ALL_HOSTS.filter((function(i){var s=i;(s.title&&-1!==s.title.toLowerCase().indexOf(e)||s.ftp_server&&-1!==s.ftp_server.toLowerCase().indexOf(e)||s.host_login&&-1!==s.host_login.toLowerCase().indexOf(e)||s.comment&&-1!==s.comment.toLowerCase().indexOf(e)||s.ftp_login&&-1!==s.ftp_login.toLowerCase().indexOf(e))&&t.push(s)})),t}}),components:{Row:C,Loader:_["a"]}},$=w,O=Object(b["a"])($,l,c,!1,null,"48db7d62",null),x=O.exports,y=i("c106"),S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"modal"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisibility,expression:"isVisibility"}],staticClass:"modal_container"},[i("transition",{attrs:{name:"modal_form"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisibility,expression:"isVisibility"}],staticClass:"modal_form"},[i("div",{staticClass:"modal_header"},[i("h3",[t._v("Форма добавления")]),i("div",{staticClass:"modal_close",on:{click:function(e){return e.preventDefault(),t.handleClose(e)}}})]),i("div",{staticClass:"modal_content"},[i("form",{ref:"form_add_host",staticClass:"row",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("div",{staticClass:"col-6 d-flex flex-column"},[i("div",{staticClass:"form_control_input_and_label",class:{error:t.$v.title.$error}},[i("label",{attrs:{for:"input_title"}},[t._v("Наименование:")]),i("div",{staticClass:"form_control_container_input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"control_input",class:{error:t.$v.title.$error},attrs:{id:"input_title",type:"text"},domProps:{value:t.title},on:{change:function(e){return t.$v.title.$touch()},input:function(e){e.target.composing||(t.title=e.target.value)}}}),t.$v.title.required?t._e():i("div",{staticClass:"error_notice",attrs:{tooltip:"Это поле обязательно для заполнения"}})])]),i("div",{staticClass:"form_control_input_and_label",class:{error:t.$v.link_sign_in.$error}},[i("label",{attrs:{for:"input_link_sign_in"}},[t._v("Страница авторизации:")]),i("div",{staticClass:"form_control_container_input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.link_sign_in,expression:"link_sign_in"}],staticClass:"control_input",class:{error:t.$v.link_sign_in.$error},attrs:{id:"input_link_sign_in",type:"text",list:"names"},domProps:{value:t.link_sign_in},on:{change:function(e){return t.$v.link_sign_in.$touch()},input:function(e){e.target.composing||(t.link_sign_in=e.target.value)}}}),i("datalist",{attrs:{id:"names"}},[i("option",{domProps:{value:"http://"+t.title}}),i("option",{domProps:{value:"https://"+t.title}})]),t.$v.link_sign_in.required?t._e():i("div",{staticClass:"error_notice",attrs:{tooltip:"Это поле обязательно для заполнения"}}),t.$v.link_sign_in.url?t._e():i("div",{staticClass:"error_notice",attrs:{tooltip:"Значение не является ссылкой"}})])]),i("div",{staticClass:"form_control_textarea_and_label",staticStyle:{height:"100%"}},[i("label",{attrs:{for:"textarea_comment"}},[t._v("Комментарий(не обязательно):")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"control_textarea",staticStyle:{"max-height":"90px",height:"100%"},attrs:{id:"textarea_comment",type:"text"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})]),i("button",{staticClass:"button-1 mt-auto fix-bottom",attrs:{type:"submit",disabled:"PENDING"===t.submit_status}},[t._v("Сохранить ")])]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form_control_group_input"},[i("label",[t._v("Доступ к хостингу")]),i("div",{staticClass:"form_control_input_and_label",class:{error:t.$v.host_login.$error}},[i("label",{attrs:{for:"input_host_login"}},[t._v("Логин:")]),i("div",{staticClass:"form_control_container_input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.host_login,expression:"host_login"}],staticClass:"control_input",class:{error:t.$v.host_login.$error},attrs:{id:"input_host_login",type:"text"},domProps:{value:t.host_login},on:{change:function(e){return t.$v.host_login.$touch()},input:function(e){e.target.composing||(t.host_login=e.target.value)}}}),t.$v.host_login.required?t._e():i("div",{staticClass:"error_notice",attrs:{tooltip:"Это поле обязательно для заполнения"}})])]),i("div",{staticClass:"form_control_input_and_label",class:{error:t.$v.host_password.$error}},[i("label",{attrs:{for:"input_host_password"}},[t._v("Пароль:")]),i("div",{staticClass:"form_control_container_input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.host_password,expression:"host_password"}],staticClass:"control_input",class:{error:t.$v.host_password.$error},attrs:{id:"input_host_password",type:"text"},domProps:{value:t.host_password},on:{change:function(e){return t.$v.host_password.$touch()},input:function(e){e.target.composing||(t.host_password=e.target.value)}}}),t.$v.host_password.required?t._e():i("div",{staticClass:"error_notice",attrs:{tooltip:"Это поле обязательно для заполнения"}})])])]),i("div",{staticClass:"form_control_group_input"},[i("label",[t._v("Доступ к FTP(не обязательно)")]),i("div",{staticClass:"form_control_input_and_label",class:{error:t.$v.ftp_server.$error}},[i("label",{attrs:{for:"input_ftp_server"}},[t._v("Сервер:")]),i("div",{staticClass:"form_control_container_input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ftp_server,expression:"ftp_server"}],staticClass:"control_input",class:{error:t.$v.ftp_server.$error},attrs:{id:"input_ftp_server",type:"text"},domProps:{value:t.ftp_server},on:{change:function(e){return t.$v.ftp_server.$touch()},input:function(e){e.target.composing||(t.ftp_server=e.target.value)}}}),t.$v.ftp_server.required?t._e():i("div",{staticClass:"error_notice",attrs:{tooltip:"Все поля доступа к FTP должны быть заполнены или пусты","tooltip-2":""}})])]),i("div",{staticClass:"form_control_input_and_label",class:{error:t.$v.ftp_login.$error}},[i("label",{attrs:{for:"input_ftp_login"}},[t._v("Логин:")]),i("div",{staticClass:"form_control_container_input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ftp_login,expression:"ftp_login"}],staticClass:"control_input",class:{error:t.$v.ftp_login.$error},attrs:{id:"input_ftp_login",type:"text"},domProps:{value:t.ftp_login},on:{change:function(e){return t.$v.ftp_login.$touch()},input:function(e){e.target.composing||(t.ftp_login=e.target.value)}}}),t.$v.ftp_login.required?t._e():i("div",{staticClass:"error_notice",attrs:{tooltip:"Все поля доступа к FTP должны быть заполнены или пусты","tooltip-2":""}})])]),i("div",{staticClass:"form_control_input_and_label",class:{error:t.$v.ftp_password.$error}},[i("label",{attrs:{for:"input_ftp_password"}},[t._v("Пароль:")]),i("div",{staticClass:"form_control_container_input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ftp_password,expression:"ftp_password"}],staticClass:"control_input",class:{error:t.$v.ftp_password.$error},attrs:{id:"input_ftp_password",type:"text"},domProps:{value:t.ftp_password},on:{change:function(e){return t.$v.ftp_password.$touch()},input:function(e){e.target.composing||(t.ftp_password=e.target.value)}}}),t.$v.ftp_password.required?t._e():i("div",{staticClass:"error_notice",attrs:{tooltip:"Все поля доступа к FTP должны быть заполнены или пусты","tooltip-2":""}})])])])])])])])]),i("transition",{attrs:{name:"overlay"}},[t.isVisibility?i("div",{staticClass:"overlay_bg",on:{click:t.handleClose}}):t._e()])],1)])},T=[],H=i("b5ae"),A={name:"FormAddHost",data:function(){return{title:"",link_sign_in:"",host_login:"",host_password:"",ftp_server:"",ftp_login:"",ftp_password:"",comment:"",submit_status:null}},props:["isVisibility"],methods:Object(r["a"])(Object(r["a"])({},Object(f["b"])(["ADD_HOST"])),{},{handleClose:function(){this.$emit("close")},handleSubmit:function(){var t=this;if(this.$v.$touch(),this.$v.$invalid)this.submit_status="ERROR";else{this.submit_status="PENDING";var e=new FormData;e.append("title",this.title),e.append("link_sign_in",this.link_sign_in),e.append("host_login",this.host_login),e.append("host_password",this.host_password),e.append("ftp_server",this.ftp_server),e.append("ftp_login",this.ftp_login),e.append("ftp_password",this.ftp_password),e.append("comment",this.comment),this.ADD_HOST(e).then((function(e){t.submit_status="OK",t.handleClose(),t.axios.get(Object(v["a"])("api.screenshot",[t.title]))})).catch((function(e){t.submit_status="ERROR"}))}},ifNotFull:function(){var t=0;return t+=this.ftp_server?1:0,t+=this.ftp_login?1:0,t+=this.ftp_password?1:0,!(0===t||3===t)}}),validations:{title:{required:H["required"]},host_login:{required:H["required"]},host_password:{required:H["required"]},ftp_server:{required:Object(H["requiredIf"])((function(){return this.ifNotFull()}))},ftp_login:{required:Object(H["requiredIf"])((function(){return this.ifNotFull()}))},ftp_password:{required:Object(H["requiredIf"])((function(){return this.ifNotFull()}))},link_sign_in:{required:H["required"],url:H["url"]}}},I=A,j=Object(b["a"])(I,S,T,!1,null,"0111921e",null),D=j.exports,F={name:"HostIndex",data:function(){return{search:"",isVisibilityFormAddHost:!1}},components:{HostTable:x,Search:y["a"],FormAddHostModal:D,VueHeadful:a.a},methods:Object(r["a"])(Object(r["a"])({},Object(f["b"])(["getAllHosts"])),{},{handleTableUpdate:function(){this.getAllHosts()}})},k=F,L=Object(b["a"])(k,s,o,!1,null,"526061b4",null);e["default"]=L.exports}}]);
//# sourceMappingURL=chunk-2d0de561.96e6e08d.js.map